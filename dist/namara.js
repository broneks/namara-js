!function webpackUniversalModuleDefinition(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("https")):"function"==typeof define&&define.amd?define(["https"],r):"object"==typeof exports?exports.Namara=r(require("https")):e.Namara=r(e.https)}(this,function(e){return function(e){function __webpack_require__(i){if(r[i])return r[i].exports;var t=r[i]={exports:{},id:i,loaded:!1};return e[i].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0,t.exports}var r={};return __webpack_require__.m=e,__webpack_require__.c=r,__webpack_require__.p="",__webpack_require__(0)}([function(e,r,i){"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var t=function(){function defineProperties(e,r){for(var i=0;i<r.length;i++){var t=r[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,r,i){return r&&defineProperties(e.prototype,r),i&&defineProperties(e,i),e}}(),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},$="object"===("undefined"==typeof process?"undefined":n(process))&&"[object process]"===Object.prototype.toString.call(process)?"server":"browser",s=i(1)("./xhr-"+$),o=i(8),l=function(){function Namara(){var e=arguments.length<=0||void 0===arguments[0]?"server"===$?process.env.NAMARA_APIKEY:null:arguments[0],r=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?"v0":arguments[2],t=arguments.length<=3||void 0===arguments[3]?"api.namara.io":arguments[3];if(_classCallCheck(this,Namara),!e||"string"!=typeof e)throw Error("a namara.io API key is required.");this.apiKey=e,this.debug=r,this.host=t,this.apiVersion=i,this.headers={"Content-Type":"application/json","X-API-Key":e}}return t(Namara,[{key:"get",value:function get(e,r){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],t=arguments[3];if(!e||"string"!=typeof e||!r||"string"!=typeof r)throw Error("data set ID and version are required.");var n=!1;return i&&"function"==typeof i&&(t=i,i={}),t&&"function"==typeof t&&(n=!0),s.call(this,e,r,i,n,t)}},{key:"getPath",value:function getPath(e,r){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],t=o(i),n=Namara.isAggregation(i)?"/aggregation":"";return""+this.getBasePath(e,r)+n+"?api_key="+this.apiKey+"&"+t}},{key:"getBasePath",value:function getBasePath(e,r){return"/"+this.apiVersion+"/data_sets/"+e+"/data/"+r}}]),Namara}();l.isAggregation=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=Object.keys(e);return r.length>0&&r.indexOf("operation")>=0},e.exports=l},function(e,r,i){function webpackContext(e){return i(webpackContextResolve(e))}function webpackContextResolve(e){return t[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var t={"./xhr-browser":2,"./xhr-browser.js":2,"./xhr-server":6,"./xhr-server.js":6};webpackContext.keys=function webpackContextKeys(){return Object.keys(t)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=1},function(e,r,i){"use strict";var t=i(3).Promise;e.exports=function(e,r,i,n,$){var s=this;return new t(function(t,o){var l=new XMLHttpRequest,a="https://"+s.host+s.getPath(e,r,i);s.debug&&console.log("REQUEST: "+a+"\n"),l.open("GET",a,!0),l.onload=function(){var e=JSON.parse(l.responseText);return s.debug&&(console.log("STATUS: "+l.status+"\n"),console.log("HEADERS: "+l.getAllResponseHeaders()+"\n")),s.debug&&console.log("BODY: "+l.responseText+"\n"),l.status>=200&&l.status<400?n?$(null,e):t(e):(s.debug&&console.log("NAMARA ERROR: "+l.responseText+"\n"),n?$(e):o(e))},l.onerror=function(){console.log(l);var e=JSON.parse(l.responseText);return s.debug&&console.log("ERROR: "+l.responseText+"\n"),n?$(e):o(e)};for(var p in s.headers)l.setRequestHeader(p,s.headers[p]);l.send()})}},function(e,r,i){var t;(function(e){(function(){"use strict";function lib$es6$promise$utils$$objectOrFunction(e){return"function"==typeof e||"object"==typeof e&&null!==e}function lib$es6$promise$utils$$isFunction(e){return"function"==typeof e}function lib$es6$promise$asap$$setScheduler(e){s=e}function lib$es6$promise$asap$$setAsap(e){p=e}function lib$es6$promise$asap$$useNextTick(){return function(){process.nextTick(lib$es6$promise$asap$$flush)}}function lib$es6$promise$asap$$useVertxTimer(){return function(){$(lib$es6$promise$asap$$flush)}}function lib$es6$promise$asap$$useMutationObserver(){var e=0,r=new m(lib$es6$promise$asap$$flush),i=document.createTextNode("");return r.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}function lib$es6$promise$asap$$useMessageChannel(){var e=new MessageChannel;return e.port1.onmessage=lib$es6$promise$asap$$flush,function(){e.port2.postMessage(0)}}function lib$es6$promise$asap$$useSetTimeout(){return function(){setTimeout(lib$es6$promise$asap$$flush,1)}}function lib$es6$promise$asap$$flush(){for(var e=0;a>e;e+=2){var r=h[e],i=h[e+1];r(i),h[e]=void 0,h[e+1]=void 0}a=0}function lib$es6$promise$asap$$attemptVertx(){try{var e=i(!function webpackMissingModule(){var e=new Error('Cannot find module "vertx"');throw e.code="MODULE_NOT_FOUND",e}());return $=e.runOnLoop||e.runOnContext,lib$es6$promise$asap$$useVertxTimer()}catch(r){return lib$es6$promise$asap$$useSetTimeout()}}function lib$es6$promise$then$$then(e,r){var i=this,t=i._state;if(t===_&&!e||t===g&&!r)return this;var n=new this.constructor(lib$es6$promise$$internal$$noop),$=i._result;if(t){var s=arguments[t-1];p(function(){lib$es6$promise$$internal$$invokeCallback(t,n,s,$)})}else lib$es6$promise$$internal$$subscribe(i,n,e,r);return n}function lib$es6$promise$promise$resolve$$resolve(e){var r=this;if(e&&"object"==typeof e&&e.constructor===r)return e;var i=new r(lib$es6$promise$$internal$$noop);return lib$es6$promise$$internal$$resolve(i,e),i}function lib$es6$promise$$internal$$noop(){}function lib$es6$promise$$internal$$selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function lib$es6$promise$$internal$$cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function lib$es6$promise$$internal$$getThen(e){try{return e.then}catch(r){return w.error=r,w}}function lib$es6$promise$$internal$$tryThen(e,r,i,t){try{e.call(r,i,t)}catch(n){return n}}function lib$es6$promise$$internal$$handleForeignThenable(e,r,i){p(function(e){var t=!1,n=lib$es6$promise$$internal$$tryThen(i,r,function(i){t||(t=!0,r!==i?lib$es6$promise$$internal$$resolve(e,i):lib$es6$promise$$internal$$fulfill(e,i))},function(r){t||(t=!0,lib$es6$promise$$internal$$reject(e,r))},"Settle: "+(e._label||" unknown promise"));!t&&n&&(t=!0,lib$es6$promise$$internal$$reject(e,n))},e)}function lib$es6$promise$$internal$$handleOwnThenable(e,r){r._state===_?lib$es6$promise$$internal$$fulfill(e,r._result):r._state===g?lib$es6$promise$$internal$$reject(e,r._result):lib$es6$promise$$internal$$subscribe(r,void 0,function(r){lib$es6$promise$$internal$$resolve(e,r)},function(r){lib$es6$promise$$internal$$reject(e,r)})}function lib$es6$promise$$internal$$handleMaybeThenable(e,r,i){r.constructor===e.constructor&&i===d&&constructor.resolve===v?lib$es6$promise$$internal$$handleOwnThenable(e,r):i===w?lib$es6$promise$$internal$$reject(e,w.error):void 0===i?lib$es6$promise$$internal$$fulfill(e,r):lib$es6$promise$utils$$isFunction(i)?lib$es6$promise$$internal$$handleForeignThenable(e,r,i):lib$es6$promise$$internal$$fulfill(e,r)}function lib$es6$promise$$internal$$resolve(e,r){e===r?lib$es6$promise$$internal$$reject(e,lib$es6$promise$$internal$$selfFulfillment()):lib$es6$promise$utils$$objectOrFunction(r)?lib$es6$promise$$internal$$handleMaybeThenable(e,r,lib$es6$promise$$internal$$getThen(r)):lib$es6$promise$$internal$$fulfill(e,r)}function lib$es6$promise$$internal$$publishRejection(e){e._onerror&&e._onerror(e._result),lib$es6$promise$$internal$$publish(e)}function lib$es6$promise$$internal$$fulfill(e,r){e._state===y&&(e._result=r,e._state=_,0!==e._subscribers.length&&p(lib$es6$promise$$internal$$publish,e))}function lib$es6$promise$$internal$$reject(e,r){e._state===y&&(e._state=g,e._result=r,p(lib$es6$promise$$internal$$publishRejection,e))}function lib$es6$promise$$internal$$subscribe(e,r,i,t){var n=e._subscribers,$=n.length;e._onerror=null,n[$]=r,n[$+_]=i,n[$+g]=t,0===$&&e._state&&p(lib$es6$promise$$internal$$publish,e)}function lib$es6$promise$$internal$$publish(e){var r=e._subscribers,i=e._state;if(0!==r.length){for(var t,n,$=e._result,s=0;s<r.length;s+=3)t=r[s],n=r[s+i],t?lib$es6$promise$$internal$$invokeCallback(i,t,n,$):n($);e._subscribers.length=0}}function lib$es6$promise$$internal$$ErrorObject(){this.error=null}function lib$es6$promise$$internal$$tryCatch(e,r){try{return e(r)}catch(i){return j.error=i,j}}function lib$es6$promise$$internal$$invokeCallback(e,r,i,t){var n,$,s,o,l=lib$es6$promise$utils$$isFunction(i);if(l){if(n=lib$es6$promise$$internal$$tryCatch(i,t),n===j?(o=!0,$=n.error,n=null):s=!0,r===n)return void lib$es6$promise$$internal$$reject(r,lib$es6$promise$$internal$$cannotReturnOwn())}else n=t,s=!0;r._state!==y||(l&&s?lib$es6$promise$$internal$$resolve(r,n):o?lib$es6$promise$$internal$$reject(r,$):e===_?lib$es6$promise$$internal$$fulfill(r,n):e===g&&lib$es6$promise$$internal$$reject(r,n))}function lib$es6$promise$$internal$$initializePromise(e,r){try{r(function resolvePromise(r){lib$es6$promise$$internal$$resolve(e,r)},function rejectPromise(r){lib$es6$promise$$internal$$reject(e,r)})}catch(i){lib$es6$promise$$internal$$reject(e,i)}}function lib$es6$promise$promise$all$$all(e){return new P(this,e).promise}function lib$es6$promise$promise$race$$race(e){function onFulfillment(e){lib$es6$promise$$internal$$resolve(i,e)}function onRejection(e){lib$es6$promise$$internal$$reject(i,e)}var r=this,i=new r(lib$es6$promise$$internal$$noop);if(!l(e))return lib$es6$promise$$internal$$reject(i,new TypeError("You must pass an array to race.")),i;for(var t=e.length,n=0;i._state===y&&t>n;n++)lib$es6$promise$$internal$$subscribe(r.resolve(e[n]),void 0,onFulfillment,onRejection);return i}function lib$es6$promise$promise$reject$$reject(e){var r=this,i=new r(lib$es6$promise$$internal$$noop);return lib$es6$promise$$internal$$reject(i,e),i}function lib$es6$promise$promise$$needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function lib$es6$promise$promise$$needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function lib$es6$promise$promise$$Promise(e){this._id=T++,this._state=void 0,this._result=void 0,this._subscribers=[],lib$es6$promise$$internal$$noop!==e&&("function"!=typeof e&&lib$es6$promise$promise$$needsResolver(),this instanceof lib$es6$promise$promise$$Promise?lib$es6$promise$$internal$$initializePromise(this,e):lib$es6$promise$promise$$needsNew())}function lib$es6$promise$enumerator$$Enumerator(e,r){this._instanceConstructor=e,this.promise=new e(lib$es6$promise$$internal$$noop),Array.isArray(r)?(this._input=r,this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?lib$es6$promise$$internal$$fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&lib$es6$promise$$internal$$fulfill(this.promise,this._result))):lib$es6$promise$$internal$$reject(this.promise,this._validationError())}function lib$es6$promise$polyfill$$polyfill(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(r){throw new Error("polyfill failed because global object is unavailable in this environment")}var i=e.Promise;i&&"[object Promise]"===Object.prototype.toString.call(i.resolve())&&!i.cast||(e.Promise=k)}var n;n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var $,s,o,l=n,a=0,p=function asap(e,r){h[a]=e,h[a+1]=r,a+=2,2===a&&(s?s(lib$es6$promise$asap$$flush):o())},u="undefined"!=typeof window?window:void 0,c=u||{},m=c.MutationObserver||c.WebKitMutationObserver,b="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,h=new Array(1e3);o=b?lib$es6$promise$asap$$useNextTick():m?lib$es6$promise$asap$$useMutationObserver():f?lib$es6$promise$asap$$useMessageChannel():void 0===u?lib$es6$promise$asap$$attemptVertx():lib$es6$promise$asap$$useSetTimeout();var d=lib$es6$promise$then$$then,v=lib$es6$promise$promise$resolve$$resolve,y=void 0,_=1,g=2,w=new lib$es6$promise$$internal$$ErrorObject,j=new lib$es6$promise$$internal$$ErrorObject,x=lib$es6$promise$promise$all$$all,E=lib$es6$promise$promise$race$$race,A=lib$es6$promise$promise$reject$$reject,T=0,k=lib$es6$promise$promise$$Promise;lib$es6$promise$promise$$Promise.all=x,lib$es6$promise$promise$$Promise.race=E,lib$es6$promise$promise$$Promise.resolve=v,lib$es6$promise$promise$$Promise.reject=A,lib$es6$promise$promise$$Promise._setScheduler=lib$es6$promise$asap$$setScheduler,lib$es6$promise$promise$$Promise._setAsap=lib$es6$promise$asap$$setAsap,lib$es6$promise$promise$$Promise._asap=p,lib$es6$promise$promise$$Promise.prototype={constructor:lib$es6$promise$promise$$Promise,then:d,"catch":function(e){return this.then(null,e)}};var P=lib$es6$promise$enumerator$$Enumerator;lib$es6$promise$enumerator$$Enumerator.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},lib$es6$promise$enumerator$$Enumerator.prototype._enumerate=function(){for(var e=this.length,r=this._input,i=0;this._state===y&&e>i;i++)this._eachEntry(r[i],i)},lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry=function(e,r){var i=this._instanceConstructor,t=i.resolve;if(t===v){var n=lib$es6$promise$$internal$$getThen(e);if(n===d&&e._state!==y)this._settledAt(e._state,r,e._result);else if("function"!=typeof n)this._remaining--,this._result[r]=e;else if(i===k){var $=new i(lib$es6$promise$$internal$$noop);lib$es6$promise$$internal$$handleMaybeThenable($,e,n),this._willSettleAt($,r)}else this._willSettleAt(new i(function(r){r(e)}),r)}else this._willSettleAt(t(e),r)},lib$es6$promise$enumerator$$Enumerator.prototype._settledAt=function(e,r,i){var t=this.promise;t._state===y&&(this._remaining--,e===g?lib$es6$promise$$internal$$reject(t,i):this._result[r]=i),0===this._remaining&&lib$es6$promise$$internal$$fulfill(t,this._result)},lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt=function(e,r){var i=this;lib$es6$promise$$internal$$subscribe(e,void 0,function(e){i._settledAt(_,r,e)},function(e){i._settledAt(g,r,e)})};var O=lib$es6$promise$polyfill$$polyfill,R={Promise:k,polyfill:O};i(5).amd?(t=function(){return R}.call(r,i,r,e),!(void 0!==t&&(e.exports=t))):"undefined"!=typeof e&&e.exports?e.exports=R:"undefined"!=typeof this&&(this.ES6Promise=R),O()}).call(this)}).call(r,i(4)(e))},function(e,r){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,r){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,r,i){"use strict";var t=i(7);e.exports=function(e,r,i,n,$){var s=this;return new Promise(function(o,l){var a={headers:s.headers,hostname:s.host,path:s.getPath(e,r,i)};s.debug&&console.log("REQUEST: https://"+a.hostname+a.path+"\n"),t.get(a,function(e){var r="";s.debug&&(console.log("STATUS: "+e.statusCode+"\n"),console.log("HEADERS: "+JSON.stringify(e.headers)+"\n")),e.setEncoding("utf8"),e.on("data",function(e){return s.debug&&console.log("BODY: "+e+"\n"),r+=e}),e.on("end",function(){var i=JSON.parse(r);return 200!==e.statusCode?(s.debug&&console.log("NAMARA ERROR: "+r+"\n"),n?$(i):l(i)):n?$(null,i):o(i)})}).on("error",function(e){return s.debug&&console.log("ERROR: "+e.message+"\n"),n?$(e):l(e)})})}},function(e,r){e.exports=require("https")},function(e,r){"use strict";e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=[];for(var i in e){var t=encodeURIComponent(i)+"="+encodeURIComponent(e[i]);r.push(t)}return r.join("&")}}])});